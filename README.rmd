---
title: "README"
output: html_document
date: "2025-12-14"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Analysis on Meteor Landings

#### **Sebastian Gonzalez Corea**

## Introduction

The goal of this project was to analyze data of meteor landings to better understand the characteristics of the samples we have found. Meteorites are valuable sources of information for us to understand the universe as they allow us to analyze samples of other celestial objects without having to leave earth to do so. Better understanding of what we do know may allow us to collect more samples and information to improve our understanding about the universe.

Through this project, I attempted to analyze and explore these following questions:

## Data

The data I used comes from <https://www.kaggle.com/datasets/nasa/meteorite-landings>. It is a dataset of 45716 meteorites that was created by NASA by compiling information gathered from the Meteoritical Society's database of meteorites. Due to the fact that the data set was created and upkept by NASA, the data was in good condition that did not need much cleaning in order to start my analysis on it. The only issues I found with this data is that there were some missing or known erroneous data in certain columns as well as the fact the data only goes up to 2013 which is when NASA stopped up keeping it. This however, was easily remedied by filtering out the bad data when appropriate.

```{r}
library(readr)
library(dplyr)
library(ggplot2)
library(maps)
Meteorite_Landings <- read_csv("Meteorite_Landings.csv")
Meteorite <- Meteorite_Landings |> 
  rename(class = recclass,
         long = reclong,
         lat = reclat)
```

My first action was to prepare the packages I was going to use as well as import the data set. Next, I renamed some of the variables in the data set to make them clearer in what they represented. I then analyzed the structure and the summary of the data to have a better understanding of what I was working with.

### Variables

-   **name**: the name of the meteorite

-   **id**: a unique identifier for the meteorite within the database

-   **nametype**: wether the metorite is typical (valid) or has been degraded by weather on Earth (relict)

-   **class**: the class of the meteorite; Classification based on physical, chemical, and other characteristics

-   **mass (g)**: the mass of the meteorite in grams

-   **fall**: whether the meteorite was seen falling (Fell) or was discovered after its impact (found)

-   **year**: the year the meteorite fell or found

-   **lat**: the latitude of the meteorite's landing

-   **long**: the longitude of the meteorite's landing

-   **GeoLocation**: The coordinate pair combination of both lat and long.

Of these variables, the most important to my analysis were class, mass (g), fall, year, lat, and long.

## Results

```{r}
mass <- Meteorite |> filter(`mass (g)` != 0, !is.na(`mass (g)`)) |> arrange(desc(`mass (g)`))
#cleans data for mass analysis by removing observations with NA or 0 value
mass |> summarise(`mass (g)`) |> summary()
#Gives mean, median, and largest value of the mass

```

```{r}
tail(mass, 5)
#Used to find the smallest value as it is so small the summary rounds it down to 0
```

```{r}
mass |> ggplot(aes(x = `mass (g)`)) + 
  geom_histogram(binwidth=0.5) +
  scale_x_log10() +
  scale_y_log10() +
  ggtitle("Distribution of mass in g")+
  labs(x= 'Mass in g',y = 'Count') + ggtitle("Distribution of mass in g") + theme_bw()
#Distribution of mass of the meteorites, skews towards smaller
```

```{r}
mass |> ggplot(aes(x = `mass (g)`, fill = fall)) +
      geom_histogram(binwidth = .5) +
      scale_x_log10() +
      scale_y_log10() + 
      labs(x= 'Mass in g',y = 'Count') + ggtitle("Distribution of mass in g")+
      theme_bw()
#comparison of the distribution of mass between meteorites found and those that have been observed falling. Found has larger range in mass but skews towards the left while fell follows a typical bell curve
```

```{r}
mass |> summarize(class)|> count()
#gives 45566 total observations

material <- mass |> count(class) |> rename(count = n) |> arrange(desc(count)) |> mutate(`Percent Makeup` = (count/45566)*100)
#gives the class with the most values and its percent makeup of the data

material |> head(10)
```

```{r}
material |> head(10) |> summarise(sum(`Percent Makeup`))
#shows that the top 10 meteorite classes make up 79% of all meteorites.
```

```{r}
topclass <- c("L6", "H5", "L5", "H6", "H4", "LL5", "LL6", "L4", "H4/5", "CM2")
mass_filtered <- mass |> filter(class %in% topclass)

mass_filtered |> group_by(class) |> summarise(mean = mean(`mass (g)`), median = median(`mass (g)`), largest = max(`mass (g)`), smallest = min(`mass (g)`)) |> arrange(desc(mean))

```

```{r}
mass_filtered |> ggplot(aes(x = class, y = log10(`mass (g)`))) +
  geom_boxplot() +
  theme_bw()
```

```{r}
Meteorite |> 
 filter(year>=860 & year<=2016) |> ggplot(aes(x = year)) + 
  geom_histogram(binwidth=5) +
  ggtitle("Distribution of meteorite landings over time") + 
  coord_cartesian(xlim = c(1875, 2025))+
  theme_bw()
# All meteorite discoveries over time

```

```{r}
Meteorite |> 
 filter(year>=860 & year<=2016, fall == "Fell") |> ggplot(aes(x = year)) + 
  geom_histogram(binwidth=5) +
  ggtitle("Distribution of observed meteorite landings over time") + 
  coord_cartesian(xlim = c(1700, 2025)) +
  theme_bw()
# distribution of meteorites which had their fall observed over time
```

```{r}
mass_filtered |> 
 filter(year>=860 & year<=2016, fall == "Fell") |> ggplot(aes(x = year, fill = class)) + 
  geom_histogram(binwidth=5) +
  ggtitle("Distribution of meteorite landings over time") + 
  coord_cartesian(xlim = c(1700, 2025)) +
  theme_bw()
#distribution of meteor falls for meteors within the top 10 classes
```

```{r}
location_clean <- Meteorite |> filter(long<=180 & long>=-180 & (lat!=0 | long!=0))
#removes data with known bad location data
loc_top <- mass_filtered |> filter(long<=180 & long>=-180 & (lat!=0 | long!=0))
#removes data with known bad location data for those within the top 10 classes

world_map <- map_data("world")

p <- ggplot() + coord_fixed() + xlab("") + ylab("")

basicmap <- p + geom_polygon(data=world_map, aes(x=long, y=lat, group=group), 
                               colour="Gray", fill="Dark green")

clean <- theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_rect(fill = 'white', colour = 'white'), 
        axis.line = element_line(colour = "white"), 
        #legend.position="none",
        axis.ticks=element_blank(), 
        axis.text.x=element_blank(),
        axis.text.y=element_blank())
world <- basicmap + clean
#makes a clean map of the world to plot data on
World_landings <- world +
  geom_point(data=location_clean,aes(x=long, y=lat), colour="Black")
# maps all meteorites on the world
World_class <- world +
  geom_point(data=loc_top,aes(x=long, y=lat, colour = class))
#maps all meteorites within top 10 classes 

World_mass <- world +
  geom_point(data=location_clean,aes(x=long, y=lat, colour = `mass (g)`, size = `mass (g)` ))
```

```{r}
World_landings
```

```{r}
World_class
```

```{r}
World_mass
```

```{r}
top = 49.3457868
left = -124.7844079 
right = -66.9513812 
bottom =  24.7433195 

uscoords <- location_clean |> filter(lat >= bottom, lat <= top, long >= left, long <= right) 

usadata <- map_data("usa")

Usa_map <- p + geom_polygon(data=usadata, aes(x=long, y=lat, group=group), 
                               colour="Gray", fill="Dark green")
usa <- world + clean
#cleans map of the united states
usa_landings <- usa +
  geom_point(data=uscoords,aes(x=long, y=lat), colour="Black") + coord_cartesian(xlim = c(-125, -65), ylim = c(24, 50))

usclass <- loc_top |> filter(lat >= bottom, lat <= top, long >= left, long <= right) 

usa_class <- usa +
  geom_point(data=usclass,aes(x=long, y=lat, colour = class))+ coord_cartesian(xlim = c(-125, -65), ylim = c(24, 50))
```

```{r}
usa_landings

```

```{r}
usa_class
```
